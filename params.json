{"name":"Mjolnir","tagline":"Lightweight automation and productivity power-tool for OS X","body":"# Mjolnir\r\n\r\n<img src=\"https://raw.githubusercontent.com/mjolnir-io/mjolnir/master/Mjolnir/Images.xcassets/AppIcon.appiconset/icon_128x128.png\" alt=\"Mjolnir logo\" title=\"Mjolnir logo\" align=\"right\"/>\r\n\r\n*Lightweight automation and productivity power-tool for OS X*\r\n\r\n* Current version:  Mjolnir **0.4.2**\r\n* Requires:         OS X 10.8 or higher\r\n\r\n## What is Mjolnir?\r\n\r\nMjolnir is an OS X app that lets you automate common tasks using the\r\nlanguage Lua. At its core, it doesn't actually do anything besides\r\nload up a Lua environment; the real power lies in all the useful\r\nmodules that you can install.\r\n\r\n### Powerful\r\n\r\nApple has a bunch of APIs that let you do super cool things. But you\r\nusually need to know C and pointers and stuff to use them. But not\r\nanymore! Now we can just write some Lua and do cool things like\r\nget/set the mouse position, move windows, whatever! Anyway, this is\r\nuseful because you get to write a short script that will make you\r\ncrazy-productive in the long-term.\r\n\r\n### Lightweight\r\n\r\nI'm just so tired of certain programs making my laptop sound like it's\r\ngonna take off in flight. So I made a point of it to make Mjolnir use\r\nas little system resources as possible. And I'm actually even kinda\r\nsurprised at how small it is! It sure does help that Lua has the same\r\nidea in mind. There are some principles about this in the readme on\r\nthe github page, you should totally check it out.\r\n\r\n### Superfun\r\n\r\nThe other day, I was on my laptop, and my wife was using the desktop\r\n(OS X of course), and I ssh'd into it and used a CLI module to like,\r\nmove her mouse by a few pixels and stuff, and made her windows a\r\nlittle smaller. Oh and I unmuted it and turned the volume up a bit and\r\nmade the computer talk to her using the \"say\" utility. Don't worry,\r\nshe found it pretty funny :)\r\n\r\n### such api. so possibilities. wow.\r\n\r\nThere's really no limit to what you can do with Mjolnir. Like I said\r\nbefore, the heart of the app is actually just a Lua environment. You\r\ncan install more Mjolnir modules from LuaRocks or wherever. There's\r\none that let's you get and set window positions for any OS X window,\r\none that lets you bind global hotkeys, one that lets you move windows\r\nalong a grid, open or quit applications, and more.\r\n\r\nWe're working on creating some new ones, including a module to run\r\nAppleScripts or shell scripts, one to get/set volume on your audio\r\ndevices, one to get/set your screen brightness, one to execute Mjolnir\r\ncode from the command line or from other shell scripts, one to listen\r\nto window/application/screen events (i.e. window opened, application\r\nquit, application launched, etc.)\r\n\r\n## See it in action\r\n\r\n| Description                                                                                                              | Animated Screenshot                                                                           |\r\n|--------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|\r\n| Using hotkeys to move and resize a window along a grid (using `mjolnir.sd.grid`)                                         | ![grid.gif](https://raw.githubusercontent.com/mjolnir-io/mjolnir/master/screenshots/grid.gif) |\r\n| Using a hotkey to open Dictionary.app and show an alert (using `mjolnir.application.launchorfocus` and `mjolnir.alert`)  | ![dict.gif](https://raw.githubusercontent.com/mjolnir-io/mjolnir/master/screenshots/dict.gif) |\r\n\r\n## How do you actually use Mjolnir?\r\n\r\nYou write a \"config\", which just means `~/.mjolnir/init.lua`. This\r\nfile, along with whatever modules it requires, have full access to the\r\nbuilt-in `mjolnir` module, and all Lua modules that you have installed\r\n(e.g. from LuaRocks or any way you want to install them).\r\n\r\n## Try it out\r\n\r\n1. Download [the latest release](https://github.com/mjolnir-io/mjolnir/releases/latest), unzip, right-click `Mjolnir.app`, choose \"Open\"\r\n\r\n2. Install Lua 5.2 into /usr/local e.g. from Homebrew, and then install LuaRocks for Lua 5.2:\r\n\r\n   ~~~bash\r\n   $ brew install homebrew/versions/lua52\r\n   $ brew install luarocks --with-lua52\r\n   $ echo 'rocks_servers = { \"http://rocks.moonscript.org\" }' > ~/.luarocks/config.lua\r\n   ~~~\r\n\r\n3. Install some modules from this list: https://rocks.moonscript.org/search?q=mjolnir\r\n\r\n   ~~~bash\r\n   $ luarocks install mjolnir.hotkey\r\n   $ luarocks install mjolnir.application\r\n   ~~~\r\n\r\n   Note: you don't need to install every module, since some of them have lower-level ones as dependencies, e.g. installing mjolnir-hotkey automatically installs mjolnir-keycodes, etc.\r\n\r\n4. Create `~/.mjolnir/init.lua`, and at the top, require the modules you installed, e.g. like this:\r\n\r\n   ~~~lua\r\n   local application = require \"mjolnir.application\"\r\n   local hotkey = require \"mjolnir.hotkey\"\r\n   local window = require \"mjolnir.window\"\r\n   local fnutils = require \"mjolnir.fnutils\"\r\n   ~~~\r\n\r\n   NOTE: The `mjolnir.window` module comes with `mjolnir.application`,\r\n         so you don't need to (and can't) install it separately. Also,\r\n         `mjolnir.fnutils` is already installed as a dependency of the\r\n         other modules, so you don't need to explicitly install it.\r\n\r\n5. Start writing some fun stuff!\r\n\r\n   ~~~lua\r\n   hotkey.bind({\"cmd\", \"alt\", \"ctrl\"}, \"D\", function()\r\n      local win = window.focusedwindow()\r\n      local f = win:frame()\r\n      f.x = f.x + 10\r\n      win:setframe(f)\r\n   end)\r\n   ~~~\r\n\r\n## Uninstalling\r\n\r\nIf for any reason you want to undo everything in the above steps, do:\r\n\r\n~~~bash\r\n$ luarocks purge --tree=/usr/local\r\n$ brew uninstall lua52 luarocks\r\n$ rm ~/.luarocks/config.lua\r\n~~~\r\n\r\n## Installing to $HOME\r\n\r\nIf you run `luarocks --local install ...` instead of `luarocks\r\ninstall`, it will install to `~/.luarocks/` instead of\r\n`/usr/local`. Update your `package.path` and `package.cpath`\r\naccordingly, as noted in the FAQ.\r\n\r\n## Finding modules\r\n\r\nCheck out https://rocks.moonscript.org/search?q=mjolnir for a list of\r\npublished Mjolnir modules.\r\n\r\nNotable modules:\r\n\r\n- `mjolnir.hotkey` for creating global hotkeys\r\n- `mjolnir.application` for inspecting and manipulating running OS X applications and windows\r\n- `mjolnir.alert` for showing on-screen messages\r\n\r\n## Documentation\r\n\r\nMjolnir and mjolnir-modules use [Dash](http://kapeli.com/dash) for\r\ndocumentation.\r\n\r\nTo install Mjolnir.docset, run this in your Terminal:\r\n\r\n~~~bash\r\n$ open 'dash-feed://https%3A%2F%2Fraw.githubusercontent.com%2Fmjolnir-io%2Fmjolnir-docs%2Fmaster%2FMjolnir.xml'\r\n~~~\r\n\r\nIt should generally update on its own.\r\n\r\n## Publishing modules\r\n\r\nWrote an awesome module, and want to share with the world? Check out\r\n[this sample Mjolnir plugin](https://github.com/mjolnir-io/mjolnir-sample-plugin).\r\n\r\nWhen it's published, please announce it on our mailing list :)\r\n\r\n## Principles\r\n\r\nDevelopment of Mjolnir.app and the core Mjolnir modules follow these\r\nprinciples:\r\n\r\n1. They must be stable. The app should never crash. You should only\r\n   ever have to launch it once, and it should stay running until you\r\n   quit. Period.\r\n\r\n2. They must be lightweight. They should never do anything that drains\r\n   your computer's battery. They should never poll for anything. They\r\n   should use as little RAM as possible. Everything they do should\r\n   feel instant and snappy, never sluggish or delayed.\r\n\r\n3. They should be completely transparent. There should be no surprises\r\n   in how it's behaving, or what's being executed and when. Everything\r\n   should be fully predictable.\r\n\r\n4. They must not be bloated. The app and core modules must always\r\n   adhere to the minimalist philosophy, no excuses. Everything else\r\n   can be a separate Lua module.\r\n\r\n## FAQ\r\n\r\n1. **Does LuaRocks have a way to upgrade modules automatically?**\r\n\r\n   Sadly no. But it can be done manually by removing a module and\r\n   re-installing it. I'm hoping maybe one day some enthusiastic\r\n   Mjolnir users can jump in and improve the tooling around this. ;)\r\n\r\n2. **I'm getting an error like this: \"attempt to index field 'win' (a nil value)\"**\r\n\r\n   Disable and re-enable accessibility. It may look enabled, but do it\r\n   anyway. (This is an OS X bug, not a Mjolnir bug.)\r\n\r\n3. **I don't have things in /usr/local, so I can't load modules!**\r\n\r\n   Add the path to `package.path` and `package.cpath` in your\r\n   init-file. For example, if you're using Boxen, add this:\r\n\r\n   ~~~lua\r\n   package.path = package.path .. ';/opt/boxen/homebrew/share/lua/5.2/?.lua'\r\n   package.cpath = package.cpath .. ';/opt/boxen/homebrew/lib/lua/5.2/?.so'\r\n   ~~~\r\n\r\n## Mjolnir vs. other apps\r\n\r\n1. **Hydra, Phoenix, or Zephyros?**\r\n\r\n   The short of it is, Mjolnir is the successor to these older apps of mine. Or check out [the full story](http://sdegutis.github.io/2014/08/11/the-history-and-current-state-of-appgrid-zephyros-phoenix-hydra-penknife-and-mjolnir/).\r\n\r\n2. **Slate**\r\n\r\n   They're both programmer-centric with somewhat similar goals but\r\n   different approaches. Mjolnir is more modularized, Slate is more\r\n   all-in-one. Try them both and see which one suits you better.\r\n\r\n3. **Spectacle, Moom, SizeUp, Divvy**\r\n\r\n   Mjolnir is intended for programmers who want to write programs that\r\n   customize their environment. It's not intended to be a drag-n-drop\r\n   solution; it's meant to allow you to write your own personalized\r\n   productivity enhancement suite to keep and to use long-term.\r\n\r\n## Upgrading from Hydra\r\n\r\nOnly the core modules have been ported over. I'll be porting over the\r\nnon-core modules over the next few days, so keep an eye out for\r\nthem. You may also want to sign up for the mailing list (see below) to\r\nhear announcements of ported Hydra modules.\r\n\r\n## Community\r\n\r\nOur [mailing list](https://groups.google.com/forum/#!forum/mjolnir-io)\r\nis a fine place to share ideas, and follow releases and announcements.\r\n\r\nWe also have a growing IRC channel on freenode, #mjolnir.\r\n\r\n## Credits and Thanks\r\n\r\nMjolnir is developed by Steven Degutis with the help of\r\n[various contributors](https://github.com/mjolnir-io/mjolnir/graphs/contributors).\r\n\r\nSpecial thanks, in no special order:\r\n\r\n- @Habbie for his constant help and support ever since the moment I\r\n  first jumped into #lua and said \"anyone wanna try out an OS X window\r\n  manager scriptable in Lua?\" and being the first person to join our\r\n  IRC channel and for helping with nearly every Lua question I had\r\n\r\n- @cmsj, @Keithbsmiley, @BrianGilbert, @muescha, @chdiza, @asmagill,\r\n  @splintax, @arxanas, and @DomT4 for all their help and support\r\n\r\n- @jasonm23 for writing, not one, not two, but *three* app icons for\r\n  this project\r\n\r\n- @jhgg for contributing so many awesome modules to the project\r\n\r\n- @kapeli for his patience with my constant Dash questions and PRs\r\n\r\n- Everyone else who has helped who I've probably forgotten: thanks for\r\n  all your help!\r\n\r\n- Everyone who has donated: thank you so much for your support!\r\n\r\nSee the in-app About panel for the open source licenses for the\r\nsoftware Mjolnir uses internally (basically just Lua's license).\r\n\r\n## Changes\r\n\r\n**NOTE:** When upgrading, System Preferences will *pretend* like\r\n  Mjolnir's accessibility is enabled, showing a checked checkbox. But\r\n  in fact, you'll still need to be disable and re-enable it. This is a\r\n  bug in OS X.\r\n\r\n### 0.4.{0,1}\r\n\r\n- Default implementation of `mjolnir.showerror(err)` now opens the console and focuses Mjolnir\r\n- There's a new variable, `mjolnir.configdir = \"~/.mjolnir/\"` for users and modules to coordinate\r\n- New `mjolnir.focus()` function to make Mjolnir the focused app\r\n- The original `print` function is now stored in `mjolnir.rawprint` (rather than `mjolnir.print`, to disambiguate it)\r\n- New `mjolnir.openconsole()` function to open console (and bring Mjolnir to front)\r\n\r\n### 0.3.1\r\n\r\n- Renamed global `mj` to `mjolnir`\r\n\r\n### 0.3\r\n\r\n- The UI has changed drastically. Expect nothing to be in the same\r\n  place or look the same. Pretend it's a brand new app.\r\n- Modules are now handled by LuaRocks instead of by the app itself.\r\n- The \"core\" namespace has been renamed to \"mj\".\r\n- The 'mj.window' module now ships with the 'mj.application' LuaRocks\r\n  package since they depend on each other.\r\n- `mj.screen:frame_without_dock_or_menu()` is now called `mj.screen:frame()`\r\n- `mj.screen:frame_including_dock_and_menu()` is now called `mj.screen:fullframe()`\r\n\r\n### 0.2\r\n\r\n- Did anyone actually use this?\r\n\r\n### 0.1\r\n\r\n- First public release\r\n\r\n## Donate\r\n\r\nI've worked hard to make this app useful and easy to use. I've also\r\nreleased it with a liberal open source license, so that you can do\r\nwith it as you please.\r\n\r\nSo, instead of charging for licenses, I'm asking for donations. If you\r\nfind Mjolnir genuinely beneficial to your productivity, I encourage\r\nyou to donate in proportion to the value you're getting out of it.\r\n\r\nYour donations will fund the time I'll be spending making Mjolnir even\r\nbetter, and will be used to compensate volunteers for the time and\r\nskills which they have generously contributed to the project.\r\n\r\nCurrently, donations can be made [by PayPal](https://www.paypal.com/cgi-bin/webscr?business=sbdegutis@gmail.com&cmd=_donations&item_name=Mjolnir.app%20donation&no_shipping=1). If you don't have a PayPal account, they let you pay with a credit card too without having to sign up with them.\r\n\r\n## License\r\n\r\n> Released under MIT license.\r\n>\r\n> Copyright (c) 2014 Steven Degutis\r\n>\r\n> Permission is hereby granted, free of charge, to any person obtaining a copy\r\n> of this software and associated documentation files (the \"Software\"), to deal\r\n> in the Software without restriction, including without limitation the rights\r\n> to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n> copies of the Software, and to permit persons to whom the Software is\r\n> furnished to do so, subject to the following conditions:\r\n>\r\n> The above copyright notice and this permission notice shall be included in\r\n> all copies or substantial portions of the Software.\r\n>\r\n> THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n> IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n> FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n> AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n> LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n> OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n> THE SOFTWARE.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}